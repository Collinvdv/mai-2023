{# ========================================================================== #}
{# :: Variables #}
{# ========================================================================== #}
{% set title = data.commonTitle ?? "" %}
{% set description = data.commonDescription ?? "" %} 
{% set link = data.commonLink ?? "" %} 
{% set secondaryLink = data.commonSecondaryLink ?? "" %} 
{% set color = data.commonColor ?? "" %} 

{% import "/macros/color" as colorMacro %}

{% switch color %}
    {% case 'primary' %}
        {% set colorBackground = "bg-primary" %}
        {% 
            set colorLeft = {
                pacman: "fill-white",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-white",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}
    {% case 'white' %}
        {% set colorBackground = "bg-white" %}
        {% 
            set colorLeft = {
                pacman: "fill-primary",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-primary",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}
    {% case 'rose' %}
        {% set colorBackground = "bg-white" %}
        {% 
            set colorLeft = {
                pacman: "fill-white",
                circle: "fill-rose",
                triangle:  "fill-primary",
                stripes: "fill-primary",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-white",
                circle: "fill-rose",
                triangle:  "fill-rose",
                stripes: "fill-primary",
            }
        %}
    {% case 'violet' %}
        {% set colorBackground = "bg-white" %}
        {% 
            set colorLeft = {
                pacman: "fill-white",
                circle: "fill-violet",
                triangle:  "fill-primary",
                stripes: "fill-primary",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-white",
                circle: "fill-violet",
                triangle:  "fill-violet",
                stripes: "fill-primary",
            }
        %}
    {% case 'blue' %}
        {% set colorBackground = "bg-white" %}
        {% 
            set colorLeft = {
                pacman: "fill-white",
                circle: "fill-blue",
                triangle:  "fill-primary",
                stripes: "fill-primary",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-white",
                circle: "fill-blue",
                triangle:  "fill-blue",
                stripes: "fill-primary",
            }
        %}
    {% default %}
        {% set colorBackground = "bg-primary" %}
        {% 
            set colorLeft = {
                pacman: "fill-white",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}

        {% 
            set colorRight = {
                pacman: "fill-white",
                circle: "fill-lavendel",
                triangle:  "fill-rose",
                stripes: "fill-blue",
            }
        %}
{% endswitch %}

{# ========================================================================== #}
{# :: Component #}
{# ========================================================================== #}
<div class="{{colorBackground}} py-20 relative">
    <div class="container mx-auto">
        {# Shape left #}
        {% include "/components/shapes/left.twig" with {
            customClasses: "absolute left-0 top-0 w-2/12 pb-24",
            colors: colorLeft
        } %}

        {# Content #}
        <div class="px-4 flex flex-col items-center w-8/12 text-center gap-8 mx-auto">
            <h2>
                {{ title }}
            </h2>

            <div>
                {{ description|nl2br }}
            </div>

            {# Buttons #}
            <ul class="flex gap-8 items-center">
                <li>
                    {% include "/components/button.twig" with { 
                        href :link,
                        text : link.getText(),
                    }
                        only
                    %}
                </li>
                <li>
                    {% include "/components/link.twig" with { 
                        href : secondaryLink,
                        text : secondaryLink.getText(),
                        icon: "arrow-down"
                    } only %}
                </li>
            </ul>
        </div>

        {# Shape right #}
        {% include "/components/shapes/right.twig" with {
            customClasses: "absolute right-0 bottom-0 w-2/12 pt-8",
            colors: colorRight
        } %}
    </div>
</div>